{% extends "blobcn/base.html" %}

{% block title %}Entidade{% endblock title %}

{% block content %}   
    <h1>Detalhes</h1>
    <table>
        <tr>
            <th>Key</th>
            <th>Value</th>
        </tr>
        {% for key, value in entity.items %}
            <tr>
                <td>{{ key }}</td>
                <td>{{ value }}</td>
            </tr>
        {% endfor %}
    </table>
    <div class="links">
        <a href="{% url 'update_entity' entity.PartitionKey entity.RowKey %}">Edit</a>
        <a id="delete-entry" href="{% url 'delete_entity' entity.PartitionKey entity.RowKey %}">Delete</a>
    </div>
{% endblock content %}

{% block links %}
<script>
    const deleteEntityLinks = document.getElementById('delete-entry');
    deleteEntityLinks.addEventListener('click', (event) => {
        if (!confirm('Tem certeza que deseja deletar esta entidade?')) {
            event.preventDefault();
        }
    });
</script>
{% endblock links %}